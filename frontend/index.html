<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube Trend Tracer</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23ff0000' rx='12'/><polygon points='38,28 38,72 72,50' fill='white'/></svg>" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,600;0,9..40,700;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <span class="logo-icon" aria-hidden="true">▶</span>
        <h1>YouTube Trend Tracer</h1>
      </div>
      <p class="tagline">Trending videos & engagement metrics</p>
      <div class="actions">
        <button type="button" class="btn btn-primary" id="btn-refresh" disabled>
          <span class="btn-text">Refresh trends</span>
          <span class="btn-loading" aria-hidden="true">Updating…</span>
        </button>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="stats" id="stats" aria-live="polite">
      <!-- Filled by JS -->
    </section>

    <section class="filter-section" id="filter-section">
      <h2 class="filter-section-title">Filters</h2>
      <div class="filters" id="filters">
        <label class="filter-label">
          <span>Country</span>
          <select id="filter-country" aria-label="Filter by country/region">
            <option value="all">All</option>
          </select>
        </label>
        <label class="filter-label">
          <span>Language</span>
          <select id="filter-language" aria-label="Filter by language">
            <option value="all">All</option>
          </select>
        </label>
        <label class="filter-label">
          <span>Category</span>
          <select id="filter-category" aria-label="Filter by category">
            <option value="all">All</option>
          </select>
        </label>
        <label class="filter-label">
          <span>Viral</span>
          <select id="filter-viral" aria-label="Filter by viral">
            <option value="all">All</option>
            <option value="1">Viral only</option>
            <option value="0">Non-viral</option>
          </select>
        </label>
        <label class="filter-label">
          <span>Engagement</span>
          <select id="filter-engagement" aria-label="Filter by engagement level">
            <option value="all">All</option>
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
        </label>
        <label class="filter-label filter-label-date">
          <span>From</span>
          <input type="datetime-local" id="filter-time-from" aria-label="From date and time" />
        </label>
        <label class="filter-label filter-label-date">
          <span>To</span>
          <input type="datetime-local" id="filter-time-to" aria-label="To date and time" />
        </label>
        <label class="filter-label">
          <span>Sort by</span>
          <select id="sort-by" aria-label="Sort by">
            <option value="views">Views</option>
            <option value="likes">Likes</option>
            <option value="comment_count">Comments</option>
            <option value="engagement_score">Engagement</option>
            <option value="title">Title A–Z</option>
          </select>
        </label>
      </div>
    </section>

    <div class="loading" id="loading" role="status" aria-live="polite">
      <div class="spinner"></div>
      <p>Loading trends…</p>
    </div>

    <div class="error" id="error" role="alert" hidden>
      <p id="error-message"></p>
      <button type="button" class="btn btn-secondary" id="btn-retry">Try again</button>
    </div>

    <ul class="trend-list" id="trend-list" aria-live="polite"></ul>
  </main>

  <div class="modal hidden" id="trend-modal" aria-hidden="true">
    <div class="modal-backdrop" id="trend-modal-backdrop"></div>
    <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="trend-modal-title">
      <button type="button" class="modal-close" id="trend-modal-close" aria-label="Close details">×</button>
      <div class="modal-content">
        <h2 class="modal-title" id="trend-modal-title"></h2>
        <p class="modal-subtitle" id="trend-modal-subtitle"></p>
        <div class="modal-body" id="trend-modal-body"></div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="trend-modal-close-secondary">Close</button>
          <button type="button" class="btn btn-primary" id="trend-modal-open-youtube">
            Open on YouTube
          </button>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-info" id="pagination-info">
        <!-- Filled by JS -->
      </div>
      <div class="footer-page-size">
        <label class="page-size-label">
          Trends per page
          <select id="page-size" aria-label="Trends per page">
            <option value="10">10</option>
            <option value="20" selected>20</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </label>
      </div>
      <div class="footer-pagination">
        <button type="button" class="pager-btn" id="page-prev" aria-label="Previous page">
          ‹
        </button>
        <span class="pager-indicator" id="page-indicator">1 / 1</span>
        <button type="button" class="pager-btn" id="page-next" aria-label="Next page">
          ›
        </button>
      </div>
    </div>
  </footer>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
